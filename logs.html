<script>
  const logList = document.getElementById('log-list');

  function renderTransactionLog() {
    const logs = JSON.parse(localStorage.getItem("transactionLogs")) || [];
    logList.innerHTML = "";

    if (logs.length === 0) {
      logList.innerHTML = "<li>No transactions yet.</li>";
      return;
    }

    logs.forEach(l => {
      const li = document.createElement("li");
      let text = "";

      switch(l.type) {
        case "deposit":
          text = `[Deposit] ${l.user} deposited ${l.amount} coins`;
          break;
        case "withdraw":
          text = `[Withdraw] ${l.user} requested ${l.amount} coins`;
          if(l.by) text += ` (Username: ${l.by})`;
          break;
        case "admin-add":
          text = `[Admin Add] ${l.by} added ${l.amount} coins to ${l.user}`;
          break;
        case "admin-remove":
          text = `[Admin Remove] ${l.by} removed ${l.amount} coins from ${l.user}`;
          break;
        default:
          text = `[Other] ${JSON.stringify(l)}`;
      }

      const date = new Date(l.timestamp).toLocaleString();
      li.textContent = `${date} - ${text}`;
      logList.appendChild(li);
    });
  }

  // Render logs immediately on page load
  renderTransactionLog();
</script>

