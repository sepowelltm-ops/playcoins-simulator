<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Transaction Logs</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { margin-bottom: 10px; }
    #log-list { list-style: none; padding-left: 0; }
    #log-list li { margin-bottom: 5px; border-bottom: 1px solid #ccc; padding: 5px; }
  </style>
</head>
<body>
  <h1>Transaction Logs</h1>
  <ul id="log-list"></ul>

  <script>
    const logList = document.getElementById('log-list');

    function renderTransactionLog() {
      const logs = JSON.parse(localStorage.getItem("transactionLogs")) || [];
      logList.innerHTML = "";

      if (logs.length === 0) {
        logList.innerHTML = "<li>No transactions yet.</li>";
        return;
      }

      logs.forEach(l => {
        const li = document.createElement("li");
        let text = "";

        switch(l.type) {
          case "deposit":
            text = `[Deposit] ${l.user} deposited ${l.amount} coins`;
            break;
          case "withdraw":
            text = `[Withdraw] ${l.user} requested ${l.amount} coins`;
            if(l.by) text += ` (Username: ${l.by})`;
            break;
          case "admin-add":
            text = `[Admin Add] ${l.by} added ${l.amount} coins to ${l.user}`;
            break;
          case "admin-remove":
            text = `[Admin Remove] ${l.by} removed ${l.amount} coins from ${l.user}`;
            break;
          default:
            text = `[Other] ${JSON.stringify(l)}`;
        }

        const date = new Date(l.timestamp).toLocaleString();
        li.textContent = `${date} - ${text}`;
        logList.appendChild(li);
      });
    }

    // Render logs on page load
    renderTransactionLog();
  </script>
</body>
</html>
